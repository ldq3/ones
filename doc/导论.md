# 导论

操作系统的职责是管理程序，并管理和虚拟化计算机系统中的硬件资源，为程序提供运行环境。从实现的角度来看，操作系统包括两个部分：一段初始化代码和一个系统调用库。初始化代码负责初始化管理相关的数据结构，并将 CPU 让给初始进程。当计算机开始运行用户进程之后，用户程序可以通过硬件提供的介入（intervene）系统将 CPU 让给操作系统来使用系统调用库的提供的功能。

## 设计方法
随着社会的发展，程序的数量和规模都呈爆发式增长，其逻辑复杂度逐渐超出了人类的管理能力。操作系统是复杂度最高的程序，更需要有系统化的设计方法来应对其复杂性的增长。

设计模式和函数式编程是控制程序逻辑复杂性的两种范式。

访问模块中的全局静态数据时用到单例模式，提供一个类似以下实现的函数：

```rust
fn access<F, V>(f: F) -> V 
where
    F: FnOnce(&mut Data) -> V,
{
    let mut mutex = DATA.lock();
    f(&mut mutex)
}
```

## 测试
可以在库中进行 no_std 的简单单元测试，也可以在库外借助标准库进行测试，或者在裸机环境下进行测试。